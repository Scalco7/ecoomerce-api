generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model product {
  id                 String          @id @db.VarChar(8)
  product_type_id    String          @db.VarChar(8)
  price              Decimal         @db.Decimal
  promotion_price    Decimal         @db.Decimal
  available_quantity Int             @db.SmallInt
  variant_1_name     String?         @db.VarChar(10)
  variant_2_name     String?         @db.VarChar(10)
  product_type       product_type    @relation(fields: [product_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "product_type_PK")
  product_image      product_image[]
}

model product_image {
  id         String  @id @db.VarChar(8)
  product_id String  @db.VarChar(8)
  url        String
  product    product @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "product_id_PK")
}

model product_type {
  id                  String    @id @db.VarChar(8)
  name                String    @db.VarChar(100)
  description         String
  variant_type_1_name String?   @db.VarChar(10)
  variant_type_2_name String?   @db.VarChar(10)
  category_id         String    @db.VarChar(8)
  product             product[]
}

model category {
  id   String @id @db.VarChar(8)
  name String @db.VarChar(50)
}

model coupons {
  id                  String   @id @db.VarChar(8)
  name                String   @unique @db.VarChar(16)
  discoun_percentage  Decimal  @db.Decimal
  quantity_used       Int      @db.SmallInt
  max_quantity_to_use Int?     @db.SmallInt
  created_date        DateTime @default(now()) @db.Timestamp(6)
}
